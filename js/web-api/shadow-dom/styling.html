<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Styling - Shubi Docs</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../../../favicon.svg">
        <link rel="shortcut icon" href="../../../favicon.png">
        <link rel="stylesheet" href="../../../css/variables.css">
        <link rel="stylesheet" href="../../../css/general.css">
        <link rel="stylesheet" href="../../../css/chrome.css">
        <link rel="stylesheet" href="../../../css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="../../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../../fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../../highlight.css">
        <link rel="stylesheet" href="../../../tomorrow-night.css">
        <link rel="stylesheet" href="../../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item affix "><a href="../../../index.html">Introduction</a></li><li class="chapter-item expanded "><a href="../../../js/index.html"><strong aria-hidden="true">1.</strong> JavaScript</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../js/exec-ctx.html"><strong aria-hidden="true">1.1.</strong> 실행 컨텍스트</a></li><li class="chapter-item "><a href="../../../js/class.html"><strong aria-hidden="true">1.2.</strong> 클래스</a></li><li class="chapter-item "><a href="../../../js/arrow-func.html"><strong aria-hidden="true">1.3.</strong> 화살표 함수</a></li><li class="chapter-item "><a href="../../../js/binding-function.html"><strong aria-hidden="true">1.4.</strong> 함수 바인딩</a></li><li class="chapter-item "><a href="../../../js/call-apply.html"><strong aria-hidden="true">1.5.</strong> call, apply</a></li><li class="chapter-item "><a href="../../../js/closure.html"><strong aria-hidden="true">1.6.</strong> 클로저</a></li><li class="chapter-item "><a href="../../../js/func-exp-and-dec.html"><strong aria-hidden="true">1.7.</strong> 함수 표현식 vs 함수 선언문</a></li><li class="chapter-item "><a href="../../../js/event-loop.html"><strong aria-hidden="true">1.8.</strong> 이벤트 루프</a></li><li class="chapter-item "><a href="../../../js/new.html"><strong aria-hidden="true">1.9.</strong> new와 생성자 함수</a></li><li class="chapter-item "><a href="../../../js/properties.html"><strong aria-hidden="true">1.10.</strong> 프로퍼티</a></li><li class="chapter-item "><a href="../../../js/prototype.html"><strong aria-hidden="true">1.11.</strong> 프로토타입</a></li><li class="chapter-item "><a href="../../../js/this.html"><strong aria-hidden="true">1.12.</strong> this</a></li><li class="chapter-item "><a href="../../../js/var.html"><strong aria-hidden="true">1.13.</strong> var를 쓰지 않는 이유</a></li><li class="chapter-item "><a href="../../../js/babel.html"><strong aria-hidden="true">1.14.</strong> Babel</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">1.15.</strong> Web APIs</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../js/web-api/intersection.html"><strong aria-hidden="true">1.15.1.</strong> Intersection Observer</a></li><li class="chapter-item "><a href="../../../js/web-api/mutation.html"><strong aria-hidden="true">1.15.2.</strong> Mutation Observer</a></li><li class="chapter-item "><a href="../../../js/web-api/template.html"><strong aria-hidden="true">1.15.3.</strong> Template Element</a></li><li class="chapter-item expanded "><a href="../../../js/web-api/shadow-dom/intro.html"><strong aria-hidden="true">1.15.4.</strong> Shadow DOM</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../js/web-api/shadow-dom/slot.html"><strong aria-hidden="true">1.15.4.1.</strong> Slot</a></li><li class="chapter-item expanded "><a href="../../../js/web-api/shadow-dom/styling.html" class="active"><strong aria-hidden="true">1.15.4.2.</strong> Styling</a></li><li class="chapter-item "><a href="../../../js/web-api/shadow-dom/events.html"><strong aria-hidden="true">1.15.4.3.</strong> Events</a></li></ol></li><li class="chapter-item "><a href="../../../js/web-api/canvas/intro.html"><strong aria-hidden="true">1.15.5.</strong> Canvas API</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../js/web-api/canvas/shapes.html"><strong aria-hidden="true">1.15.5.1.</strong> 도형 그리기</a></li></ol></li></ol></li><li class="chapter-item "><div><strong aria-hidden="true">1.16.</strong> Guides</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../js/guides/render-opt.html"><strong aria-hidden="true">1.16.1.</strong> 렌더링 최적화</a></li><li class="chapter-item "><a href="../../../js/guides/custom-el-checklist.html"><strong aria-hidden="true">1.16.2.</strong> Custom Element 체크리스트</a></li></ol></li></ol></li><li class="chapter-item "><a href="../../../svelte/intro.html"><strong aria-hidden="true">2.</strong> Svelte</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../svelte/reactivity.html"><strong aria-hidden="true">2.1.</strong> Reactivity</a></li><li class="chapter-item "><a href="../../../svelte/props.html"><strong aria-hidden="true">2.2.</strong> Props</a></li><li class="chapter-item "><a href="../../../svelte/logic.html"><strong aria-hidden="true">2.3.</strong> Logic</a></li><li class="chapter-item "><a href="../../../svelte/events.html"><strong aria-hidden="true">2.4.</strong> Events</a></li><li class="chapter-item "><a href="../../../svelte/bindings.html"><strong aria-hidden="true">2.5.</strong> Bindings</a></li><li class="chapter-item "><a href="../../../svelte/lifecycle.html"><strong aria-hidden="true">2.6.</strong> Life Cycle</a></li><li class="chapter-item "><a href="../../../svelte/stores.html"><strong aria-hidden="true">2.7.</strong> Stores</a></li><li class="chapter-item "><a href="../../../svelte/motion.html"><strong aria-hidden="true">2.8.</strong> Motion</a></li><li class="chapter-item "><a href="../../../svelte/transition.html"><strong aria-hidden="true">2.9.</strong> Transitions</a></li><li class="chapter-item "><a href="../../../svelte/animations.html"><strong aria-hidden="true">2.10.</strong> Animations</a></li><li class="chapter-item "><a href="../../../svelte/actions.html"><strong aria-hidden="true">2.11.</strong> Actions</a></li><li class="chapter-item "><a href="../../../svelte/classes.html"><strong aria-hidden="true">2.12.</strong> Classes</a></li><li class="chapter-item "><a href="../../../svelte/composition.html"><strong aria-hidden="true">2.13.</strong> Component Composition</a></li><li class="chapter-item "><a href="../../../svelte/context.html"><strong aria-hidden="true">2.14.</strong> Context API</a></li><li class="chapter-item "><a href="../../../svelte/specials.html"><strong aria-hidden="true">2.15.</strong> Special Elements</a></li><li class="chapter-item "><a href="../../../svelte/module.html"><strong aria-hidden="true">2.16.</strong> Module Context</a></li><li class="chapter-item "><a href="../../../svelte/debug.html"><strong aria-hidden="true">2.17.</strong> Debugging</a></li></ol></li><li class="chapter-item "><a href="../../../graphql/intro.html"><strong aria-hidden="true">3.</strong> GraphQL</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../graphql/execution.html"><strong aria-hidden="true">3.1.</strong> Execution</a></li><li class="chapter-item "><a href="../../../graphql/query-mutation.html"><strong aria-hidden="true">3.2.</strong> Query &amp; Mutation</a></li><li class="chapter-item "><a href="../../../graphql/schema-type.html"><strong aria-hidden="true">3.3.</strong> Schema &amp; Type</a></li><li class="chapter-item "><a href="../../../graphql/pagination.html"><strong aria-hidden="true">3.4.</strong> Pagination</a></li><li class="chapter-item "><a href="../../../graphql/http.html"><strong aria-hidden="true">3.5.</strong> HTTP에서의 GraphQL</a></li></ol></li><li class="chapter-item "><a href="../../../docker/setup.html"><strong aria-hidden="true">4.</strong> Docker</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../docker/sample.html"><strong aria-hidden="true">4.1.</strong> 샘플 애플리케이션</a></li><li class="chapter-item "><a href="../../../docker/update.html"><strong aria-hidden="true">4.2.</strong> 애플리케이션 수정</a></li><li class="chapter-item "><a href="../../../docker/share.html"><strong aria-hidden="true">4.3.</strong> 애플리케이션 공유</a></li><li class="chapter-item "><a href="../../../docker/persist.html"><strong aria-hidden="true">4.4.</strong> DB 유지</a></li><li class="chapter-item "><a href="../../../docker/bind-mounts.html"><strong aria-hidden="true">4.5.</strong> Bind Mounts</a></li><li class="chapter-item "><a href="../../../docker/multi.html"><strong aria-hidden="true">4.6.</strong> 멀티 컨테이너 앱</a></li><li class="chapter-item "><a href="../../../docker/docker-compose.html"><strong aria-hidden="true">4.7.</strong> Docker Compose</a></li><li class="chapter-item "><a href="../../../docker/best-practices.html"><strong aria-hidden="true">4.8.</strong> 실전 이미지 빌딩</a></li></ol></li><li class="chapter-item "><div><strong aria-hidden="true">5.</strong> Etc.</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../etc/ssh.html"><strong aria-hidden="true">5.1.</strong> SSH</a></li><li class="chapter-item "><a href="../../../etc/tdd.html"><strong aria-hidden="true">5.2.</strong> TDD</a></li><li class="chapter-item "><a href="../../../etc/fp.html"><strong aria-hidden="true">5.3.</strong> 함수형 프로그래밍</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Shubi Docs</h1>

                    <div class="right-buttons">
                        <a href="../../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="shadow-dom-styling"><a class="header" href="#shadow-dom-styling">Shadow DOM styling</a></h1>
<p>shadow DOM은 <code>&lt;style&gt;</code> 태그와 <code>&lt;link rel='stylesheet' href='...'&gt;</code> 태그를 모두 포함할 수 있다. 그 중 <code>&lt;link&gt;</code> 태그의 경우, <strong>HTTP 캐싱</strong>이 되며, 여러번 다운로드 되지 않는다.</p>
<p>일반적인 스타일 규칙으로는, shadow DOM은 오직 shadow tree 내의 로컬 스타일 규칙에만 영향을 받는다. 하지만 몇가지 예외가 존재한다.</p>
<h2 id="host"><a class="header" href="#host">:host</a></h2>
<p><code>:host</code> 선택자는 shadow 호스트(shadow tree를 보유한 요소)를 선택하는 것을 허용한다.</p>
<p>예를 들어, <code>&lt;custom-dialog&gt;</code>요소가 가운데에 위치하길 원한다면, 아래와 같은 방법으로 스타일을 추가할 수 있다.</p>
<pre><code class="language-html">&lt;template id=&quot;tmpl&quot;&gt;
  &lt;style&gt;
    /* the style will be applied from inside to the custom-dialog element */
    :host {
      position: fixed;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      display: inline-block;
      border: 1px solid red;
      padding: 10px;
    }
  &lt;/style&gt;
  &lt;slot&gt;&lt;/slot&gt;
&lt;/template&gt;

&lt;script&gt;
  customElements.define(
    'custom-dialog',
    class extends HTMLElement {
      connectedCallback() {
        this.attachShadow({ mode: 'open' }).append(
          tmpl.content.cloneNode(true),
        );
      }
    },
  );
&lt;/script&gt;

&lt;custom-dialog&gt; Hello! &lt;/custom-dialog&gt;
</code></pre>
<h2 id="cascading"><a class="header" href="#cascading">Cascading</a></h2>
<p>shadow 호스트(<code>&lt;custom-dialog&gt;</code> 태그 그 자체)는 light DOM에 위치한다. 따라서, 이는 문서 자체의 CSS 규칙에 영향을 받는다.</p>
<p>만약, shadow tree에 로컬로 <code>:host</code> 스타일이 존재함과 동시에, 문서 자체에도 스타일이 존재한다면, 문서의 스타일링이 더 우선시된다.</p>
<p>따라서, 위의 코드에서 아래와 같이 문서에 스타일링을 추가하는 경우</p>
<pre><code class="language-html">&lt;style&gt;
  custom-dialog {
    padding: 0;
  }
&lt;/style&gt;
</code></pre>
<p><code>&lt;custom-dialog&gt;</code>는 더 이상 padding을 갖지 않는다.</p>
<p>이는 제법 편리한데, 이를 통해 <code>:host</code>에는 <strong>기본(default) 컴포넌트 스타일</strong>을 지정하고, 문서를 통해서 스타일링을 쉽게 덮어씌울 수 있기 때문이다.</p>
<p>예외는 로컬 스타일링에 <code>!important</code>를 적용하는 경우다.</p>
<h2 id="hostselector"><a class="header" href="#hostselector">:host(selector)</a></h2>
<p><code>:host</code>와 동일하되, 주어진 선택자(<code>selector</code>)에 해당하는 경우에만 적용된다.</p>
<p>예를 들어, 앞선 <code>&lt;custom-dialog&gt;</code>에서, <code>center</code> 속성(attribute)를 보유한 경우에만 가운데 정렬을 하고싶다면, 아래와 같이 활용할 수 있다.</p>
<pre><code class="language-html">&lt;template id=&quot;tmpl&quot;&gt;
  &lt;style&gt;
    :host([centered]) {
      position: fixed;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      border-color: blue;
    }

    :host {
      display: inline-block;
      border: 1px solid red;
      padding: 10px;
    }
  &lt;/style&gt;
  &lt;slot&gt;&lt;/slot&gt;
&lt;/template&gt;

&lt;script&gt;
  customElements.define(
    'custom-dialog',
    class extends HTMLElement {
      connectedCallback() {
        this.attachShadow({ mode: 'open' }).append(
          tmpl.content.cloneNode(true),
        );
      }
    },
  );
&lt;/script&gt;

&lt;custom-dialog centered&gt; Centered! &lt;/custom-dialog&gt;

&lt;custom-dialog&gt; Not centered. &lt;/custom-dialog&gt;
</code></pre>
<h2 id="host-contextselector"><a class="header" href="#host-contextselector">:host-context(selector)</a></h2>
<p><code>:host</code>와 동일하되, shadow 호스트 자신, 혹은 그 상위에 있는 요소 중 해당 <code>selector</code>에 해당하는 경우에만 적용된다.</p>
<p>예를 들어, <code>:host-context(.dark-theme)</code>를 사용한 아래 예시에서, <code>&lt;custom-dialog&gt;</code>에 <code>dark-theme</code> 클래스가 존재하는 경우에만 스타일링이 적용된다.</p>
<pre><code class="language-html">&lt;body class=&quot;dark-theme&quot;&gt;
  &lt;!--
    :host-context(.dark-theme) applies to custom-dialogs inside .dark-theme
  --&gt;
  &lt;custom-dialog&gt;...&lt;/custom-dialog&gt;
&lt;/body&gt;
</code></pre>
<p>요약하자면, <code>:host</code> 종류들은 컴포넌트의 메인 요소들을 스타일링 하기 위해 활용할 수 있는 선택자이다. 이를 활용해 적용한 스타일들은 문서 자체에서의 스타일링에 덮어씌여질 수 있다.</p>
<h2 id="slotted-content-스타일링"><a class="header" href="#slotted-content-스타일링">slotted content 스타일링</a></h2>
<p>이제, <code>slot</code>을 사용하는 경우를 보자.</p>
<p>slot 처리 된 요소 자체는 light DOM에서 온다. 따라서, 그들 요소는 문서의 스타일링을 따르며, shadow tree 측에서의 로컬 스타일링은 여기에 영향을 미치지 않는다.</p>
<p>예를 들어보자. 아래에 slot으로 삽입된 <code>&lt;span&gt;</code>은 문서 스타일링에 따라 <code>bold</code> 폰트 굵기를 갖는다. 하지만 shadow Root에서의 스타일링에 영향 받지 않기 때문에 붉은 바탕(<code>background: red</code>)이 아니다.</p>
<pre><code class="language-html">&lt;style&gt;
  span {
    font-weight: bold;
  }
&lt;/style&gt;

&lt;user-card&gt;
  &lt;div slot=&quot;username&quot;&gt;&lt;span&gt;John Smith&lt;/span&gt;&lt;/div&gt;
&lt;/user-card&gt;

&lt;script&gt;
  customElements.define(
    'user-card',
    class extends HTMLElement {
      connectedCallback() {
        this.attachShadow({ mode: 'open' });
        this.shadowRoot.innerHTML = `
      &lt;style&gt;
      span { background: red; }
      &lt;/style&gt;
      Name: &lt;slot name=&quot;username&quot;&gt;&lt;/slot&gt;
    `;
      }
    },
  );
&lt;/script&gt;
</code></pre>
<p>만약, slot 처리된 요소들에 대해 컴포넌트 안에서 스타일링하고 싶다면, 두가지 선택지가 있다.</p>
<p><strong>첫번째는,</strong> 컴포넌트 내에서 CSS 상속에 기반해 <code>&lt;slot&gt;</code> 그 자체를 스타일링하는 것이다.</p>
<pre><code class="language-HTML">&lt;user-card&gt;
  &lt;div slot=&quot;username&quot;&gt;&lt;span&gt;John Smith&lt;/span&gt;&lt;/div&gt;
&lt;/user-card&gt;

&lt;script&gt;
customElements.define('user-card', class extends HTMLElement {
  connectedCallback() {
    this.attachShadow({mode: 'open'});
    this.shadowRoot.innerHTML = `
      &lt;style&gt;
      slot[name=&quot;username&quot;] { font-weight: bold; }
      &lt;/style&gt;
      Name: &lt;slot name=&quot;username&quot;&gt;&lt;/slot&gt;
    `;
  }
});
&lt;/script&gt;
</code></pre>
<p>이제 <code>&lt;p&gt;John Smith&lt;/p&gt;</code>는 bold 굵기가 된다. 왜냐하면 CSS 상속에 의해 하위 요소들에게도 영향을 미치기 때문이다. 단, CSS 자체의 속성들이 상속되지는 않는다.</p>
<p><strong>두번째 선택지는</strong> 바로 <code>::slotted(selector)</code> 의사 클래스를 사용하는 것이다. 이 때는 두가지 조건에 따라 해당하는 요소를 구분한다.</p>
<ol>
<li>light DOM를 통해서 전달된 slot 처리된 요소(<code>slot='...'</code>를 포함)여야 한다. <code>name</code> 자체는 중요하지 않다. 단, 오직 그 요소 자체에만 해당하며, 하위 요소들은 해당하지 않는다.</li>
<li>요소가 <code>selector</code> 선택자에 해당해야 한다.</li>
</ol>
<p>예를 들어, <code>::slotted(div)</code>는 정확히 <code>&lt;div slot='username'&gt;</code>에만 적용되며, 하위 요소들에는 적용되지 않는다.</p>
<pre><code class="language-html">&lt;user-card&gt;
  &lt;div slot=&quot;username&quot;&gt;
    &lt;div&gt;John Smith&lt;/div&gt;
  &lt;/div&gt;
&lt;/user-card&gt;

&lt;script&gt;
  customElements.define(
    'user-card',
    class extends HTMLElement {
      connectedCallback() {
        this.attachShadow({ mode: 'open' });
        this.shadowRoot.innerHTML = `
      &lt;style&gt;
      ::slotted(div) { border: 1px solid red; }
      &lt;/style&gt;
      Name: &lt;slot name=&quot;username&quot;&gt;&lt;/slot&gt;
    `;
      }
    },
  );
&lt;/script&gt;
</code></pre>
<p>기억하자. <code>::slotted</code> 선택자는 하위 요소들을 확인하지 않는다.</p>
<pre><code class="language-css">::slotted(div span) {
  /* our slotted &lt;div&gt; does not match this */
}

::slotted(div) p {
  /* can't go inside light DOM */
}
</code></pre>
<h2 id="커스텀-프로퍼티를-이용한-css-hook"><a class="header" href="#커스텀-프로퍼티를-이용한-css-hook">커스텀 프로퍼티를 이용한 CSS Hook</a></h2>
<p>메인 문서를 통해 shadow DOM 컴포넌트 내부의 요소들을 스타일링하려면, 어떻게 해야할까?</p>
<p><code>:host</code> 선택자는 <code>&lt;custom-dialog&gt;</code> 자체에 대해서 스타일링을 적용할 수 있다. 그런데, 그것보다 깊숙히 위치한 요소들에 스타일링을 적용하고 싶다면 어떻게 할까?</p>
<p>사실, 문서에서 shadow DOM의 스타일에 직접 영향을 줄 수 있는 선택자는 없다. 그러나, 원한다면, CSS 변수(custom CSS properties)를 활용해 이를 구현할 수 있다.</p>
<p>왜냐하면, <strong>커스텀 CSS 프로퍼티는 light와 shadow 모두에 존재하기 때문이다.(공유한다)</strong></p>
<p>예를 들어, 먼저 아래처럼 <code>--user-card-field-color</code>라는 CSS 변수를 사용해 <code>.field</code>를 기본 스타일링할 수 있다.</p>
<pre><code class="language-html">&lt;style&gt;
  .field {
    color: var(--user-card-field-color, black);
    /* if --user-card-field-color is not defined, use black color */
  }
&lt;/style&gt;
&lt;div class=&quot;field&quot;&gt;Name: &lt;slot name=&quot;username&quot;&gt;&lt;/slot&gt;&lt;/div&gt;
&lt;div class=&quot;field&quot;&gt;Birthday: &lt;slot name=&quot;birthday&quot;&gt;&lt;/slot&gt;&lt;/div&gt;
</code></pre>
<p>이후, 문서에서 <code>&lt;user-card&gt;</code>에 대해 앞서 만든 property를 활용하여 스타일링을 변경할 수 있다.</p>
<pre><code class="language-css">user-card {
  --user-card-field-color: green;
}
</code></pre>
<p>커스텀 CSS 프로퍼티는 shadow DOM 전반에 유효하기 때문에, 어디서든 활용할 수 있다.</p>
<pre><code class="language-HTML">&lt;style&gt;
  user-card {
    --user-card-field-color: green;
  }
&lt;/style&gt;

&lt;template id=&quot;tmpl&quot;&gt;
  &lt;style&gt;
    .field {
      color: var(--user-card-field-color, black);
    }
  &lt;/style&gt;
  &lt;div class=&quot;field&quot;&gt;Name: &lt;slot name=&quot;username&quot;&gt;&lt;/slot&gt;&lt;/div&gt;
  &lt;div class=&quot;field&quot;&gt;Birthday: &lt;slot name=&quot;birthday&quot;&gt;&lt;/slot&gt;&lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
customElements.define('user-card', class extends HTMLElement {
  connectedCallback() {
    this.attachShadow({mode: 'open'});
    this.shadowRoot.append(document.getElementById('tmpl').content.cloneNode(true));
  }
});
&lt;/script&gt;

&lt;user-card&gt;
  &lt;span slot=&quot;username&quot;&gt;John Smith&lt;/span&gt;
  &lt;span slot=&quot;birthday&quot;&gt;01.01.2001&lt;/span&gt;
&lt;/user-card&gt;
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../../js/web-api/shadow-dom/slot.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="../../../js/web-api/shadow-dom/events.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../../js/web-api/shadow-dom/slot.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="../../../js/web-api/shadow-dom/events.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="../../../ace.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../../editor.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../../mode-rust.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../../theme-dawn.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../../theme-tomorrow_night.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../../searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
    </body>
</html>
